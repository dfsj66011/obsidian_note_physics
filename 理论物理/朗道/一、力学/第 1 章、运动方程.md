
## 1、广义坐标

*质点* 是力学的基本概念之一，是指那些在描述其运动时可以忽略大小的物体。当然，可否忽略大小因不同问题的具体条件而异。例如，研究行星绕太阳的运动时，可以认为行星是质点，但是在研究行星自转时就不能当作质点。

质点在空间的位置由其径矢 $\boldsymbol{r}$ 确定，其分量用笛卡儿坐标 $x,\,y, \, z$ 表示。径矢 $\boldsymbol{r}$ 对时间的导数：$$\boldsymbol{v}=\frac{\mathrm{d}\boldsymbol{r}}{\mathrm{d}t}$$称为质点的 *速度* ，其二阶导数 $\mathrm{d}^2\boldsymbol{r}/\mathrm{d}t^2$  称为质点的 *加速度* 。今后，对时间的导数经常用符号上面的点表示，如 $\boldsymbol{v} = \dot{\boldsymbol{r}}$。

> [!tip]
> 需要注意，只有对时间求导，才允许通过加点形式的符号表示

为了确定由 $N$ 个质点组成的系统在空间的位置，需要给定 $N$ 个径矢，即给定 $3N$ 个坐标。

通常，唯一地确定系统位置所需独立变量的数目称为系统的 *自由度* $^a$，$N$ 个质点组成的系统的自由度为 $3N$。这些独立变量不一定是质点的笛卡儿坐标，根据问题的条件，有时选取其它坐标更加方便。

> [!NOTE]
> $^a$ 这里讨论的是完整系统，非完整系统的自由度不能这样定义，参见：马尔契夫著理论力学（第 3 版）李俊峰译。北京：高等教育出版社， 2005: 21    —— 译者注

> [!tip]
> 这里强调的是独立变量，举个例子，球面上的某个点 $P$ 的坐标虽然可以用 $x,y,z$ 表示，但是它们之间并不独立，需要满足 $x^2+y^2+z^2=r^2$，实际上只存在 2 个自由度；若换做球坐标系，则 $r$ 分量是固定的，相当于只有 $\theta$ 和 $\phi$ 两个自由度。

对于 $s$ 个自由度的系统，可以完全刻画其位置的任意 $s$ 个变量 $q_1,q_2, \cdots, q_s$ 称为该系统的 *广义坐标*，其导数 $\dot{q}_i$ 则称为 *广义速度*。

然而，给定广义坐标的数值并不能确定系统在给定时刻的“力学状态”，因为还不足以预测下一时刻系统的位置。对于给定的广义坐标值，系统可以具有任意的速度，因此下一时刻（即经过无穷小的时间间隔 $\mathrm{d}t$ 后）系统的位置可能不同。

经验表明，<font color="blue">同时给定系统的所有广义坐标和速度就可以确定系统的状态</font>，并且原则上也可以预测以后的运动。从数学观点看，在某时刻给定所有广义坐标 $q$ 和速度 $\dot{q}$ 就唯一地确定了该时刻的加速度 $\ddot{q}$ $^a$。

> [!NOTE]
> $^a$ 为了书写简便，我们用 $q$ 表示所有广义坐标 $q_1, q_2, \cdots ,q_s$，用 $\dot{q}$ 表示所有广义速度。

> [!question]
> 如何从数学观点证明，在某时刻给定所有广义坐标 $q$ 和速度 $\dot{q}$ 就唯一地确定了该时刻的加速度 $\ddot{q}$ ？

> [!tip]
> 在经典力学中，系统的运动通常由一组二阶常微分方程描述，如拉格朗日方程或哈密顿方程。这些方程将加速度 $\ddot{q}$ 表示为广义坐标 $q$、速度 $\dot{q}$ 和时间 $t$ 的函数，即 $\ddot{q} = f(q, \dot{q}, t)$。关于这一点在下面章节中也会进一步说明。

加速度与坐标、速度的关系式称为 *运动方程*。对于函数 $q(t)$ 来说，这个关系式是二阶微分方程，原则上，将其积分可以求出函数 $q(t)$，进而确定系统的运动轨迹。


## 2、最小作用量原理

力学系统运动规律的最一般表述由 *最小作用量原理*（或者 *哈密顿原理* ）给出。根据这个原理，每一个力学系统都可以用一个确定的函数$$L(q_1, q_2, \cdots, q_s, \dot{q}_1, \dot{q}_2, \cdots, \dot{q}_s, t)$$或者简记为 $L(q,\dot{q},t)$ 所表征，并且系统的运动还要满足下面的条件。

假设在时刻 $t = t_1$ 和 $t = t_2$ 系统的位置由两组坐标 $q^{(1)}$ 和 $q^{(2)}$ 确定，那么，系统在这两个位置之间的运动使得积分$$S=\int^{t_2}_{t_1}\,L(q, \dot{q},t)\,\mathrm{d}t \tag{2.1}$$取最小值$^b$。函数 $L$ 称为给定系统的 *拉格朗日函数* ，积分 (2.1) 称为 *作用量* 。

> [!NOTE]
> $^b$ 然而，应该指出的是，这个最小作用量原理的表述并不是对系统的整个运动轨迹总成立，而是仅在足够小的区段上成立。对于整个轨迹来说，积分 (2.1) 只能取极值而不一定是最小值。当然，这对于推导运动方程没有什么影响，因为我们只需用到极值条件。

拉格朗日函数中只包含 $q$ 和 $\dot{q}$，而不包含更高阶导数 $\ddot{q},\dddot{q},\cdots$，这反映了前面提到的<font color="blue">物理事实，即系统的力学状态完全由坐标和速度确定。</font>

下面我们通过求解使积分 (2.1) 取最小值的问题来推导运动微分方程。为了书写简便，我们先假设系统仅有一个自由度，只需确定一个函数 $q(t)$。

设 $q = q(t)$ 是使 $S$ 取最小值的函数，就是说用任意函数 $$q(t)+\delta q(t)\tag{2.2}$$代替 $q(t)$ 都会使 $S$ 增大，其中函数 $\delta q(t)$ （也称为函数 $q(t)$ 的变分）在从 $t_1$ 到 $t_2$ 的整个时间间隔内都是小量。由于比较函数 (2.2) 在时刻 $t=t_1$ 和 $t = t_2$ 也应该分别取值为 $q^{(1)}$ 和 $q^{(2)}$，于是有：$$\delta q(t_1)=\delta q(t_2)=0 \tag{2.3}$$
> [!tip]
> 这里涉及到数学上的变分法，理解上，也就是在起点处（对应于 $t_1$ 时刻在 $q^{(1)}$）和终点处（对应于 $t_2$ 时刻在 $q^{(2)}$）之间存在无数条路径，这无数条路径不管中间如何，要求起始点相同，也就是 (2.3) 的约束，不同路径偏离 $q(t)$ 路径的程度就用 $\delta q(t)$ 表示。

用 $q(t)+\delta q(t)$ 代替 $q(t)$ 使 $S$ 产生的增量为：$$\int_{t_1}^{t_2} L(q + \delta q, \dot{q} + \delta \dot{q}, t) \, \mathrm{d}t - \int_{t_1}^{t_2} L(q, \dot{q}, t) \, \mathrm{d}t.$$这个差中的被积函数按 $\delta q$ 和 $\delta \dot{q}$ 的幂展开式是从一阶项开始的。

> [!tip]
> 我们对被积函数 $L(q + \delta q, \dot{q} + \delta \dot{q}, t)$ 相对于 $\delta q$ 和 $\delta \dot{q}$ 进行泰勒展开（即幂展开式），假设 $\delta q$ 和 $\delta \dot{q}$ 足够小，可以忽略高阶项：$$\begin{aligned}
> L(q + \delta q, \dot{q} + \delta \dot{q}, t) &= L(q, \dot{q}, t) + \left( \frac{\partial L}{\partial q} \right) \delta q + \left( \frac{\partial L}{\partial \dot{q}} \right) \delta \dot{q} \\
> &\quad + \frac{1}{2} \left( \frac{\partial^2 L}{\partial q^2} (\delta q)^2 + 2 \frac{\partial^2 L}{\partial q \partial \dot{q}} \delta q \delta \dot{q} + \frac{\partial^2 L}{\partial \dot{q}^2} (\delta \dot{q})^2 \right) + \cdots.
> \end{aligned}$$

$S$ 取最小值（一般来说是极值）的必要条件是这些项之和等于零。这个和称为积分的一阶变分（或者简称为变分）。

> [!tip]
> 可以类比于函数求极值，在极值点附近一阶导为 0；在变分问题中，极值点附近的一阶变分也为 0，含义是在 $q(t)$ 附近的路径均具备一阶变分为 0 的特性。

于是，最小作用量原理可以写成$$\delta S=\delta \int^{t_2}_{t_1}\,L(q, \dot{q},t)\,\mathrm{d}t =0\tag{2.4}$$或者变分后的形式：$$\int^{t_2}_{t_1}\left( \frac{\partial L}{\partial q} \delta q + \frac{\partial L}{\partial \dot{q}} \delta \dot{q}\right) \mathrm{d}t=0$$
> [!tip]
> 通过上面的泰勒展开，减去原本的 $L(q, \dot{q}, t)$，忽略掉高阶项，便可以得到上式

注意到 $\delta \dot{q}=\frac{\mathrm{d}}{\mathrm{d}t}\delta q$，将第二项分部积分得：$$\delta S = \left. \frac{\partial L}{\partial \dot{q}} \delta q \right|_{t_1}^{t_2} + \int_{t_1}^{t_2} \left( \frac{\partial L}{\partial q} - \frac{\mathrm{d}}{\mathrm{d}t} \frac{\partial L}{\partial \dot{q}} \right) \delta q \, \mathrm{d}t = 0 \tag{2.5}$$

> [!tip]
> 详细推导如下：$$\begin{align}
> &\quad\text{ }\int^{t_2}_{t_1}\left( \frac{\partial L}{\partial q} \delta q + \frac{\partial L}{\partial \dot{q}} \delta \dot{q}\right) \mathrm{d}t=\int^{t_2}_{t_1}\left( \frac{\partial L}{\partial q} \delta q + \frac{\partial L}{\partial \dot{q}} \frac{\mathrm{d}}{\mathrm{d}t}\delta q\right) \mathrm{d}t \\[1.5ex]
> &=\int^{t_2}_{t_1}\left(\frac{\partial L}{\partial q} \delta q \mathrm{d}t + \frac{\partial L}{\partial \dot{q}} \mathrm{d}(\delta q )\right) \\[1.5ex]
> &=\int^{t_2}_{t_1}\left(\frac{\partial L}{\partial q} \delta q \mathrm{d}t + \frac{\partial L}{\partial \dot{q}} \delta q -\delta q \mathrm{d}\left(\frac{\partial L}{\partial \dot{q}}\right)\right) \\[1.5ex]
> &=\int^{t_2}_{t_1}\left(\frac{\partial L}{\partial q} \delta q \mathrm{d}t + \frac{\partial L}{\partial \dot{q}} \delta q -\delta q \frac{\mathrm{d}}{\mathrm{d}t}\left(\frac{\partial L}{\partial \dot{q}}\right)\mathrm{d}t\right) \\[1.5ex]\end{align}$$
> **事实证明 ，变分学的全部巧妙就在于先写下 $S$ 的变分 ，然后利用分部积分使得 $\delta q$ 的微商消去。 在微商会出现的每个问题中总是采取相同的办法 。** 这样做的目的就是为了得到“某件东西”乘以 $\delta q$ 的形式，因为此处的“某件东西”就是我们所需要的，也是必须为 0 的。

根据 (2.3) 上式中第一项等于零，剩下的积分在的任意取值时都应该等于零。这只有在被积函数恒等于零的情况下才有可能。

> [!tip]
> 有一种简便的技巧，假使被积函数不是恒为 0，即有时为正有时为负，则我们可以巧妙的安排 $\delta q$ 在被积函数为正的地方也为正，为负的地方也为负，如此 $\delta S$ 不可能为 0，因此必须要求被积函数恒为 0。

于是我们得到方程$$\frac{\mathrm{d}}{\mathrm{d}t} \frac{\partial L}{\partial \dot{q}} - \frac{\partial L}{\partial q} = 0.$$
对于有 $s$ 个自由度的系统，在最小作用量原理中有 $s$ 个不同的函数 $q(t)$ 应该独立地变分。显然我们可以得到 $s$ 个方程：$$\frac{\mathrm{d}}{\mathrm{d}t} \frac{\partial L}{\partial \dot{q}_i} - \frac{\partial L}{\partial q_i} = 0 \quad (i = 1, 2, \ldots, s). \tag{2.6}$$这就是我们要推导的运动微分方程，在力学中称为 *拉格朗日方程*。（在求积分 2.1 极值的变分计算中，这些方程称为*欧拉方程*）。如果给定力学系统的拉格朗日函数已知，则**方程 (2.6) 建立了加速度、速度和坐标之间的联系，它们是系统的运动方程**。

从数学的观点看，方程 (2.6) 是包含 $s$ 个未知函数 $q_i(t)$ 的 $s$ 个二阶微分方程组。这个方程组的通解包含 $2s$ 个任意常数。为了确定这些常数，从而完全确定力学系统的运动，必须知道描述系统在某给定时刻状态的初始条件，例如所有坐标和速度的初值。

设力学系统由 $A$ 和 $B$ 两部分组成，如果每个部分都是封闭的，拉格朗日函数分别是 $L_A$ 和 $L_B$。在两个部分相距足够远以至它们的相互作用可以忽略的极限情况下，系统的拉格朗日函数趋向于极限：$$\lim \,L = L_A + L_B \tag{2.7}$$拉格朗日函数的这种可加性反映了一个事实：每一个独立部分的运动方程不可能包含与另一部分相关的物理量。

显然，<font color="blue">将力学系统的拉格朗日函数乘以一个任意常数，不会改变运动微分方程</font>。这似乎导致一种重要的不确定性：各个孤立力学系统的拉格朗日函数可以乘以不同的任意常数。然而，可加性消除了这个不确定性，只允许所有力学系统的拉格朗日函数都乘以同一个任意常数，而这归结为选择这个物理量度量单位的自然任意性，我们还将在 $§4$ 中继续讨论这个问题。

我们还需要进行以下的一般性讨论。考虑两个拉格朗日函数 $L'(q,\dot{q},t)$ 和 $L(q, \dot{q},t)$，它们相差某个坐标和时间的函数 $f(q,t)$ 对时间的全导数：$$L'(q,\dot{q},t)=L(q, \dot{q},t)+\frac{\mathrm{d}}{\mathrm{d}t}f(q,t) \tag{2.8}$$计算这两个拉格朗日函数对应的积分 (2.1) 可得关系式：$$\begin{align}
S' &= \int_{t_1}^{t_2} L'(q, \dot{q}, t) \, \mathrm{d}t = \int_{t_1}^{t_2} L(q, \dot{q}, t) \, \mathrm{d}t + \int_{t_1}^{t_2} \frac{\mathrm{d}}{\mathrm{d}t} f(q, t) \, \mathrm{d}t \\[1.5ex]
&= S + f(q^{(2)}, t_2) - f(q^{(1)}, t_1),\end{align}$$即 $S$ 和 $S'$ 相差一个附加项。该附加项在变分时将消失，条件 $\delta S'=0$ 和 $\delta S=0$ 完全等价，因而运动微分方程也相同。

> [!tip]
> 推导如下：$$\delta S' = \delta S + \delta \left[ f(q(t_2), t_2) - f(q(t_1), t_1) \right].$$由于 $\delta q(t_1) = \delta q(t_2) = 0$，即扰动在边界处为零，故：$$
> \delta f(q(t_2), t_2) = \frac{\partial f}{\partial q} \delta q(t_2) + \frac{\partial f}{\partial t} \delta t(t_2) = 0,$$和$$
> \delta f(q(t_1), t_1) = \frac{\partial f}{\partial q} \delta q(t_1) + \frac{\partial f}{\partial t} \delta t(t_1) = 0.$$
> （还是应用泰勒展开，此外这里时间 $t$ 是固定的，即 $\delta t(t_i) = 0$，即时间不参与变分）

可见，拉格朗日函数仅可以定义到相差一个对时间和坐标的任意函数的时间全导数项。

> [!tip]
> 这表明，**一个物理系统的拉格朗日函数并不唯一**。只要两个拉格朗日函数相差一个时间的全导数项，它们描述的物理系统的动力学行为是完全相同的。换句话说，**拉格朗日函数在全导数方面具有“等价性”**。这种等效性提供了选择拉格朗日函数的灵活性。例如，在某些情况下，通过添加合适的全导数项，可以简化拉格朗日函数，使得计算更加方便或更容易揭示系统的对称性。


## 3、伽利略相对性原理

为了研究力学现象必须 *选择参考系*。 一般来说运动规律在不同的参考系下具有不同的形式。假如任意选择参考系，则可能使确定非常简单现象的规律在形式上变得十分繁琐。这自然会产生一个问题，即如何选择参考系使得力学规律在形式上最简单。

相对于任意参考系，空间是非均匀且各向异性的。这就是说，如果某个物体与其它物体之间没有相互作用，它在空间中的不同位置和不同指向在力学意义上是不等价的。同样，一般情况下任意参考系中时间也是非均匀的，即不同时刻也是不等价的。显然，时间和空间的这些性质使力学现象的描述变得复杂。例如，自由物体（即不受任何外力作用）不可能保持静止：如果在某个时刻其速度等于零，但在下一个时刻它开始向某个方向运动。

然而，似乎总是存在某种参考系，空间相对它是均匀的各向同性的，时间相对它是均匀的。这样的参考系称为 *惯性参考系*。特别是，在这样的惯性参考系中，在某个时刻静止的自由物体将永远保持静止。

对于在惯性参考系中自由运动的质点，我们立即可以得到其拉格朗日函数形式的一些结论。时间和空间的均匀性意味着这个函数不显含质点的径矢 $\boldsymbol{r}$ 和时间 $t$，即 $L$ 只能是速度 $\boldsymbol{v}$ 的函数。由于 *空间各向同性*，拉格朗日函数也必是不依赖于矢量 $\boldsymbol{v}$ 的方向，只能是速度大小的函数，也就是说 $L$ 是 $\boldsymbol{v}^2=v^2$ 的函数：$$L=L(v^2) \tag{3.1}$$
由拉格朗日函数不显含质点的径矢 $\boldsymbol{r}$ 可知 $\partial L/ \partial \boldsymbol{r} = 0$，拉格朗日方程可写成：$$\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial L}{\partial\boldsymbol{v}}=0$$由此可得 $\partial L / \partial \boldsymbol{v} = \text{const}$。而 $\partial L / \partial \boldsymbol{v}$ 只是速度的函数，故 $$\boldsymbol{v} = \text{const}.\tag{3.2}$$
可见，在惯性参考系中质点任何自由运动的速度的大小和方向都不改变。这就是 *惯性定律*。

如果在我们已有的这个惯性参考系以外，再引进另一个惯性参考系，它相对第一个惯性参考系作匀速直线运动，则相对这两个参考系的自由运动规律完全相同：自由运动仍是匀速直线运动。

实验证明，不仅自由运动规律相对这两个参考系完全相同，所有力学关系式相对这两个参考系都是等价的。因此存在不只是一个，而是无穷多个惯性参考系，它们相互作匀速直线运动。在这些参考系中时间和空间的性质都是相同的，力学规律也是相同的。这个结论称为 *伽利略相对性原理* ，这是力学中最重要的原理之一。

上面的论述充分表明，惯性参考系的特殊性决定了人们通常采用惯性系来研究力学现象。今后如果不特别声明，我们只在惯性参考系中研究问题。

无穷多个这样的参考系的力学上的完全等价性还表明，不存在比其它参考系更优先选取的一个“绝对”惯性参考系。

设有两个不同的参考系 $K$ 和 $K'$，其中 $K'$ 相对 $K$ 以速度 $\boldsymbol{V}$ 运动，同一个质点相对这两个参考系的坐标 $\boldsymbol{r}$ 和 $\boldsymbol{r}'$ 满足关系式：$$
\boldsymbol{r} = \boldsymbol{r}'+\boldsymbol{V}t. \tag{3.3}$$我们认为这两个参考系中的时间是相同的：$$t = t' \tag{3.4}$$绝对时间假设是经典力学的基础之一（这个假设在相对论力学中不成立）。

公式（3.3）和（3.4）称为*伽利略变换*。伽利略相对性原理可以表述为：力学运动方程在伽利略变换下具有不变性。

## 4、自由质点的拉格朗日函数

下面研究拉格朗日函数的形式，首先研究一个最简单的例子——质点相对惯性参考系的自由运动。我们已经知道，这种情况下拉格朗日函数只能依赖于速度的平方。我们利用伽利略相对性原理来确定这个依赖关系的形式。如果惯性参考系 $K$ 以无穷小速度 $\boldsymbol{\varepsilon}$ 相对另—惯性参考系 $K'$ 运动，则有 $\boldsymbol{v}'=\boldsymbol{v} +\boldsymbol{\varepsilon}$。拉格朗日函数 $L(v^2)$ 经过伽利略变换后得到 $L'$，由于在所有惯性参考系中运动方程的形式都相同，故如果 $L'$ 与 $L(v^2)$ 存在差异的话，只能相差某个关于时间和坐标的函数的全导数（参见 $§2$ 末）。

于是有：$$L^{\prime}=L(v^{\prime{2}})=L(v^{2}+2\boldsymbol{v}\cdot\boldsymbol{\varepsilon}+\varepsilon^{2}).$$将这个表达式展开成 $\boldsymbol{\varepsilon}$ 的幂级数并忽略一阶以上的无穷小量得：$$L\left(v^{\prime2}\right)=L\left(v^{2}\right)+2\frac{\partial L}{\partial v^{2}}\boldsymbol{v}\cdot\boldsymbol{\varepsilon}.$$只有当该等式右边第二项与速度 $\boldsymbol{v}$ 呈线性依赖关系时，它才能是时间的全导数。

> [!tip]
> 记 $u=v^2$，则 $$\Delta u=v'^2-v^2=2\boldsymbol{v}\cdot\boldsymbol{\varepsilon}+\varepsilon^{2}$$
> 在 $\varepsilon \to 0$ 时，$\varepsilon^{2}$ 是二阶小量，保留到一阶小量时，$\Delta u \approx 2\boldsymbol{v}\cdot\boldsymbol{\varepsilon}$
> 
> 于是$$L\left(v^{\prime 2}\right)=L\left(v^{2}+\Delta u\right) \approx L\left(v^{2}\right)+\frac{\mathrm{d} L}{\mathrm{d}\left(v^{2}\right)} \cdot \Delta u+O\left(\varepsilon^{2}\right).$$代入 $\Delta u$ 到一阶：$$L\left(v^{\prime 2}\right)=L\left(v^{2}\right)+\frac{\mathrm{d} L}{\mathrm{d}\left(v^{2}\right)} \cdot[2\boldsymbol{v}\cdot\boldsymbol{\varepsilon}]+O\left(\varepsilon^{2}\right).$$
> 

> [!tip]
> 为了确保在不同惯性参考系中运动方程的形式保持不变，拉格朗日函数在不同参考系下的差异必须是某个函数关于时间的全导数。具体来说：$$
> L' = L + \frac{\mathrm{d}F(\boldsymbol{r},t)}{\mathrm{d}t}$$其中，$F$ 是一个仅依赖于时间和坐标的函数。代入变换后的拉格朗日函数我们有：$$
> L' = L(v^2) + 2\frac{\partial L}{\partial v^2} \boldsymbol{v} \cdot \boldsymbol{\varepsilon} = L(v^2) + \frac{\mathrm{d}F(\boldsymbol{r},t)}{\mathrm{d}t}$$因此，要求：$$
> 2\frac{\partial L}{\partial v^2} \boldsymbol{v} \cdot \boldsymbol{\varepsilon} = \frac{\mathrm{d}F(\boldsymbol{r},t)}{\mathrm{d}t}$$
> 为什么第二项必须与速度 $\boldsymbol{v}$ 呈线性依赖关系？全导数 $\frac{\mathrm{d}F}{\mathrm{d}t}$ 的表达式为：$$
> \frac{\mathrm{d}F(\boldsymbol{r},t)}{\mathrm{d}t} = \frac{\partial F}{\partial t} + \frac{\partial F}{\partial \boldsymbol{r}} \cdot \frac{\mathrm{d}\boldsymbol{r}}{\mathrm{d}t} = \frac{\partial F}{\partial t} + \frac{\partial F}{\partial \boldsymbol{r}} \cdot \boldsymbol{v}$$比较两边表达式，我们希望：$$
> 2\frac{\partial L}{\partial v^2} \boldsymbol{v} \cdot \boldsymbol{\varepsilon} = \frac{\partial F}{\partial t} + \frac{\partial F}{\partial \boldsymbol{r}} \cdot \boldsymbol{v}$$
> 右边的表达式包含两个部分：
> 
> 1. **时间导数部分**：$\frac{\partial F}{\partial t}$，这部分通常与时间有关，但不直接依赖于速度 $\boldsymbol{v}$。
> 2. **空间导数部分**：$\frac{\partial F}{\partial \boldsymbol{r}} \cdot \boldsymbol{v}$，这部分与速度 $\boldsymbol{v}$ 线性相关。
> 
> 而左边的表达式 $2\frac{\partial L}{\partial v^2} \boldsymbol{v} \cdot \boldsymbol{\varepsilon}$ 是向量 $\boldsymbol{v}$ 与常向量 $\boldsymbol{\varepsilon}$ 的点积，它本身就是一个与 $\boldsymbol{v}$ 线性相关的量。
> 
> 为了使这两个表达式匹配，左边的项必须能够表达为右边的形式。这意味着：
> 
> - 左边的项必须完全可以写成与速度 $\boldsymbol{v}$ 线性相关的形式。
> - 如果左边的项中包含非线性（高阶）的速度项，将无法匹配右边仅包含线性速度项的全导数形式。

因此 $\frac{\partial L}{\partial v^{2}}$ 不依赖于速度，即该情况下拉格朗日函数与速度平方成正比：$$L=\frac{m}{2}v^{2},\tag{4.1}$$其中 $m$ 为常数。

> [!tip]
> 为什么不写为数学上更通用的 $$L=\frac{m}{2}v^{2}+C$$这个常数项不影响任何物理量，也不可测，没什么实际意义。因此我们习惯性地把它省略，取 $C=0$ 作为最简规范。

由拉格朗日函数在速度无穷小变换下满足伽利略相对性原理可知，在参考系 $K$  以有限速度 $\boldsymbol{V}$ 相对 $K'$ 运动情况下，拉格朗日函数也满足该原理。事实上，$$L' = \frac{m}{2}v'^2 = \frac{m}{2}(\boldsymbol{v}+\boldsymbol{V})^2 = \frac{m}{2}v^2 + 2\frac{m}{2}\boldsymbol{v} \cdot \boldsymbol{V} + \frac{m}{2}V^2$$或者$$
L' = L + \frac{\mathrm{d}}{\mathrm{d}t} \left( 2 \frac{m}{2} \mathbf{r} \cdot \mathbf{V} + \frac{m}{2} V^2 t \right).$$第二项是时间的全导数，可以略去。

出现在自由运动质点的拉格朗日函数 (4.1) 中的物理量 $m$ 称为质点的*质量*。根据拉格朗日函数的可加性，对于无相互作用的质点组成的自由质点系，有：$$L=\sum_a \frac{m_a v_a^2}{2}  \tag{4.2}$$<font color="blue">必须强调，只有考虑到可加性，给出的质量定义才有实际物理意义，在 §2 曾经指出，总是可以将拉格朗日函数乘以常数而不改变方程</font>。对于函数（4.2），乘以常数就相当于改变了质量的单位，不同质点的质量之间的比例关系却是具有实际物理意义的，不会发生改变。

容易看出，质量不可能是负的。事实上，根据最小作用量原理，质点从空间点 1 到空间点 2 的真实运动，使得积分$$S=\int_1^2\frac{mv^2}{2}\mathrm{d}t$$取最小值。假如质量是负的，对于质点快速离开点 1 再快速接近点 2 的轨迹，作用量可以取绝对值任意大的负值，不可能有最小值。

注意到$$\upsilon^2=\left(\frac{\mathrm{d}l}{\mathrm{d}t}\right)^2=\frac{\mathrm{d}l^2}{\mathrm{d}t^2},\tag{4.3}$$是有用的。因此为了得到拉格朗日函数只需求出在特定坐标系中弧长微元 $\mathrm{d}l$ 的平方。

> [!tip]
> 这个地方应该是排版有误，正确的写法为：$$\upsilon^2=\left(\frac{\mathrm{d}l}{\mathrm{d}t}\right)^2=\frac{(\mathrm{d}l)^2}{(\mathrm{d}t)^2}$$
> 各种相关符号及意义解释如下：
> 
> | 符号                | 数学形式                                 | 物理意义                                             | 是否相等                 |
> | ----------------- | ------------------------------------ | ------------------------------------------------ | -------------------- |
> | $\mathrm{d}l^2$   | 通常为$\mathrm{d}(l^2)=2l\,\mathrm{d}l$ | 函数$l^2$的微分                                       | 与$\mathrm{d}(l^2)$相同 |
> | $\mathrm{d}(l^2)$ | $2l\,\mathrm{d}l$                    | 明确的一阶微分操作                                        | 与$\mathrm{d}l^2$等同   |
> | $(\mathrm{d}l)^2$ | $(\mathrm{d}l)^2$                    | 微分的平方（二阶小量）                                      | 与前两者不同               |
> | $\mathrm{d}^2l$   | $\mathrm{d}(\mathrm{d}l)$            | 二阶微分或加速度（如$\frac{\mathrm{d}^2l}{\mathrm{d}t^2}$） | 与前三者完全不同             |
> 同样，下文中 $\mathrm{d}l^2=\mathrm{d}x^2+\mathrm{d}y^2+\mathrm{d}z^2$，正确写法应为 $(\mathrm{d}l)^2=(\mathrm{d}x)^2+(\mathrm{d}y)^2+(\mathrm{d}z)^2$
> 
> 

例如，在笛卡儿坐标系中 $\mathrm{d}l^2=\mathrm{d}x^2+\mathrm{d}y^2+\mathrm{d}z^2$，进而有$$L=\frac{m}{2}(\dot{x}^2+\dot{y}^2+\dot{z}^2),\tag{4.4}$$在柱坐标系中 $\mathrm{d}l^2=\mathrm{d}r^2+r^2\mathrm{d}\varphi^2+\mathrm{d}z^2$，进而有$$L=\frac{m}{2}(\dot{r}^2+r^2\dot{\varphi}^2+\dot{z}^2), \tag{4.5}$$在球坐标系中 $\mathrm{d}l^2=\mathrm{d}r^2+r^2\mathrm{d}\theta^2+r^2\mathrm{sin}^2\theta\mathrm{d}\varphi^2$，进而有$$L=\frac{m}{2}(\dot{r}^2+r^2\dot{\theta}^2+r^2\mathrm{sin}^2\theta\dot{\varphi}^2).\tag{4.6}$$

> [!tip]
> 
> <div style="display: flex; justify-content: space-around;"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Nabla_cylindrical2.svg/1920px-Nabla_cylindrical2.svg.png" alt="Image 1" style="width: 45%;"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Nabla_spherical2.svg/1920px-Nabla_spherical2.svg.png" alt="Image 2" style="width: 45%;"></div>
> 
> 左图是柱坐标系下 $\mathrm{d}l$ 在各个轴下的变化，而 $\mathrm{d}l$ 实际上就是图中立方体对角线的变化长度，即三个分量轴变化的平方和。图片来自于维基词条【在圆柱和球坐标系中的del】。


## 5、质点系的拉格朗日函数

下面研究一种质点系，其质点之间有相互作用，但不受外部任何物体作用，称为 *封闭质点系* 。为了描述质点之间的相互作用，可以在自由质点系的拉格朗日函数（4.2）中增加坐标的某一函数（根据相互作用的性质确定）。将这个函数记为 $-U$，则有$$L=\sum_a\frac{m_av_a^2}{2}-U(\boldsymbol{r}_1,\boldsymbol{r}_2,\cdotp\cdotp\cdotp)\tag{5.1}$$其中 $\boldsymbol{r}_a$ 是第 $a$ 个质点的径矢。这是封闭质点系拉格朗日函数的一般形式。

函数 $U$ 称为质点系的势能，而$$T=\sum_a\frac{m_av_a^2}{2}$$称为质点系的动能，这些名称的含义将在 $§6$ 中解释。

势能仅依赖于所有质点在同一时刻的位置，这意味着其中任何质点位置的改变立刻影响到所有其它质点，可以说相互作用瞬间传递。这个相互作用的性质在经典力学中是必然的，它紧密联系着经典力学的基本前提，即绝对时间假设和伽利略相对性原理。如果相互作用不是瞬间传递的，即以一个有限速度传递，而时间的绝对性意味着通常的速度相加法则适用于所有现象，因此在有相对运动的不同参考系中传递速度不相同。于是相互作用的物体的运动规律在不同惯性参考系中也不相同，这就违背了伽利略相对性原理。

在 $§3$ 中我们只提到了时间的均匀性，拉格朗日函数的形式 (5.1) 表明，时间不仅是均匀的，而且是各向同性的，即时间的性质在两个方向上都是相同的，事实上，**用 $-t$ 代替 $t$ 不会改变拉格朗日函数，进而也不会改变运动方程**。换句话说，如果在参考系中某种运动是可能的，则逆运动也是可能的，即可以按照相反的顺序经历前述运动中相同的状态。在这个意义下，遵循经典力学定律的所有运动都是可逆的。

知道拉格朗日函数后就可以建立运动方程：$$\frac{\mathrm{d}}{\mathrm{d}t}\frac{\partial L}{\partial\boldsymbol{v}_a}=\frac{\partial L}{\partial\boldsymbol{r}_a}. \tag{5.2}$$将（5.1）代入后得：$$m_a\frac{\operatorname{d}\boldsymbol{v}_a}{\operatorname{d}t}=-\frac{\partial U}{\partial\boldsymbol{r}_a}. \tag{5.3}$$这种形式的运动方程称为 *牛顿方程* ，是相互作用质点系力学的基础。方程（5.3）右端的矢量$$\boldsymbol{F}_a=-\frac{\partial U}{\partial \boldsymbol{r}_a} \tag{5.4}$$称为作用在第 $a$ 个质点上的力。它与 $U$ 一样，只依赖于所有质点的坐标，而不依赖于速度。因此，方程（5.3）表明，质点的加速度矢量也只是坐标的函数。

势能可以增减任意常数而不改变运动方程(这是在 $§2$ 末讲到的拉格朗日函数不确定性的特殊情况)。选择这个任意常数的最自然和最通用的方法是，当无限增大质点间距离时势能趋向于零。

如果描述运动不是用笛卡儿坐标，而是用任意的广义坐标 $q_i$，则为了得到新的拉格朗日函数必须进行相应的变换：$$x_a=f_a(q_1,q_2,\cdotp\cdotp\cdotp,q_s),\quad\dot{x}_a=\sum_k\frac{\partial f_a}{\partial q_k}\dot{q}_k,\quad\cdotp\cdotp\cdotp,$$将这些表达式带入函数$$L=\frac{1}{2}\sum_am_a(\dot{x}_a^2+\dot{y}_a^2+\dot{z}_a^2)-U,$$可得如下形式的拉格朗日函数：$$L=\frac{1}{2}\sum_{i,k}a_{ik}(q)\dot{q}_i\dot{q}_k-U(q),\tag{5.5}$$其中 $a_{ik}$ 只是广义坐标的函数。用广义坐标写出的动能仍是速度的二次函数，但也可以依赖于广义坐标。

到此为止我们只研究了封闭质点系。下面研究非封闭质点系 $A$，它与运动完全已知的质点系 $B$ 相互作用。这种情况下称 $A$ 在（由 $B$ 产生的）给定的外场中运动，根据最小作用量原理推导运动方程是要对每个广义坐标进行独立变分（即把其余坐标看作好像是已知的），因此，可将质点系 $A+B$ 的拉格朗日函数 $L$ 中广义坐标 $q_B$ 用给定的时间函数代替，由此得到质点系 $A$ 的拉格朗日函数 $L_A$。

假设质点系 $A+B$ 是封闭的，则有 $$L=T_A(q_A,\dot{q}_A)+T_B(q_B,\dot{q}_B)-U(q_A,q_B),$$其中前两项分别是系统 $A$ 和 $B$ 的动能，第三项是 $A+B$ 的势能。将广义坐标 $q_B$ 用已知的时间函数代替后，$T_B(q_B, \dot{q}_B)$ 是只依赖于时间的函数（因此也是某个时间函数的全导数），可以从 $L$ 中略去。于是$$L_A=T_A(q_A,\dot{q}_A)-U(q_A,q_B(t)).$$
可见，在外场中的质点系的运动由通常形式的拉格朗日函数描述，仅有的差别就在于势能可能显含时间。

例如，对于在外场中运动的单个质点，拉格朗日函数的一般形式为$$L=\frac{mv^2}{2}-U(\boldsymbol{r},t),\tag{5.6}$$而运动方程写成$$m\dot{\boldsymbol{v}}=-\frac{\partial U}{\partial\boldsymbol{r}}.\tag{5.7}$$
如果一质点在一个场中的任意位置都受到相同的力 $\boldsymbol{F}$，则称这样的外场是均匀的。显然在均匀外场中势能可以写成$$U=-\boldsymbol{F}\cdot \boldsymbol{r}.\tag{5.8}$$
在结束本节之前，我们还需对拉格朗日方程在各种问题中如何应用做些说明，我们经常需要处理这样的力学系统，其中不同物体(或质点)之间的相互作用以约束的形式呈现，即限制它们的相对位置。

实际上这种约束是通过杆、线、铰等实现的。这给运动带来新的影响因素，即运动伴有接触处的摩擦，一般来说，这个问题超越了纯力学的范畴 (参见 $§25$ ).

然而，很多情况下摩擦是比较弱的，它对运动的影响可以忽略，如果还可以忽略“连接物”的质量，则约束的作用仅仅是减少系统的自由度 $s$ 到小于 $3N$ 的值。这样又可以利用拉格朗日函数（5.5）来确定运动，独立的广义坐标数就等于实际自由度。



## 习题

试求下面在均匀重力场（重力加速度为 $g$ ）中各系统的拉格朗日函数。

**习题 1**：平面双摆（图 1）

![[Pasted image 20250226142505.png|200]]

**解：** 取绳 $l_1$ 和 $l_2$ 分别与竖直方向的夹角 $\varphi_1$ 和 $\varphi_2$ 为广义坐标，对质点 $m_1$ 有：$$T_1 = \frac{1}{2}m_1l_1^2\dot{\varphi_1}^2, \quad U_1 = -m_1gl_1\cos\varphi_1$$
为了求出第二个质点的动能，我们用角 $\varphi_1$ 和 $\varphi_2$ 表示第二个质点的笛卡尔坐标 $x_2, y_2$（坐标原点取在悬挂点，$y$ 轴竖直向下）：$$
x_2 = l_1 \sin \varphi_1 + l_2 \sin \varphi_2, \quad 
y_2 = l_1 \cos \varphi_1 + l_2 \cos \varphi_2.$$于是有$$\begin{align}
T_2 &= \frac{1}{2} m_2 (\dot{x}_2^2 + \dot{y}_2^2) = \frac{m_2}{2} [l_1^2 \dot{\varphi}_1^2 + l_2^2 \dot{\varphi}_2^2 + 2 l_1 l_2 \cos(\varphi_1 - \varphi_2) \dot{\varphi}_1 \dot{\varphi}_2]. \\[1.5ex]
U_2 &= -m_2 g (y_1 + y_2) = -m_2 g (l_1 \cos \varphi_1 + l_2 \cos \varphi_2).
\end{align}$$
最后得：$$\begin{aligned}L=&\frac{m_{1}+m_{2}}{2}l_{1}^{2}\dot{\varphi}_{1}^{2}+\frac{m_{2}}{2}l_{2}^{2}\dot{\varphi}_{2}^{2}+m_{2}l_{1}l_{2}\mathrm{cos}(\varphi_{1}-\varphi_{2})\dot{\varphi}_{1}\dot{\varphi}_{2}+\\&(m_{1}+m_{2})gl_{1}\cos\varphi_{1}+m_{2}gl_{2}\cos\varphi_{2}.\end{aligned}$$

**习题 2：** 质量为 $m_2$ 的平面摆，其悬挂点（质量为 $m_1$）可以沿着位于 $m_2$ 运动平面内的水平直线运动（图 2）

![[Pasted image 20250304095524.png|240]]
**解：** 设质点 $m_1$ 的坐标为 $x$，绳与竖直方向的夹角为 $\varphi$，则有：

$v_1=\dot{x}$，$v_2=l\dot{\varphi}$，然后将 $v_2$ 分解成水平和竖直两部分，水平分量为 $l\dot{\varphi}\cos{\varphi}+\dot{x}$，竖直分量为 $l\dot{\varphi}\sin{\varphi}$

即：$$L = \frac{m_1 + m_2}{2} \dot{x}^2 + \frac{m_2}{2} \left( l^2 \dot{\varphi}^2 + 2l \dot{x} \dot{\varphi} \cos \varphi \right) + m_2 g l \cos \varphi.$$




