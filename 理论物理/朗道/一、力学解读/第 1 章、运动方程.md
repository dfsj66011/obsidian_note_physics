
本章所讨论的系统是仅受到理想完整约束且所有主动力均为有势力（或保守力）的系统。在这种情况下，可以从哈密顿原理（或最小作用量原理）导出系统的运动微分方程，即拉格朗日方程。

哈密顿原理表示的是，对实际运动作用量 $S=\displaystyle\int L\mathrm{d}t$ 取极值。对于理想完整保守系统，作用量 $S$ 中的拉格朗日函数 $L$ 是系统的特性函数，即由它原则上可以完全确定系统的运动情况。对自由粒子系统，$L$ 的表示形式可以利用时间空间的性质（即时间是均匀的，空间是均匀和各向同性的）得到然后，再推广到有相互作用的问题。有非保守力和非完整约束的系统相关的动力学方程等在第六章最后一节（即 $§38$) 中讨论。

## 1、广义坐标

### 1.1 内容提要

对于力学系统，设有 $N$ 个质点，通常用径矢 $\boldsymbol{r}_a(a= 1,2,\cdots,N)$ 指定其中各个质点的位置，即系统的位形，这总计有 $3N$ 个坐标。但是实际系统会受到各种约束的限制，$3N$ 个坐标并不都是独立的。

能唯一地确定系统位置（即位形）所需独立变量的数目称为系统的自由度（设为 $s$），相应的变量称为*广义坐标*，记为 $q_1, q_2, \cdots q_s$，其导数 $\dot{q}_i(i =1, 2, \cdots, s)$ 和 $\ddot{q}_i(t =1,2,\cdots ,s)$ 分别称为 *广义速度* 和 *广义加速度* 。广义坐标不一定是笛卡儿坐标。广义坐标与笛卡儿坐标之间的关系称为 *坐标变换关系* ：$$\boldsymbol{r}_a = \boldsymbol{r}_a(q_1, q_2, \cdots, q_s, t), \quad (a = 1, 2, \cdots, N) \tag{1.1}$$
系统的力学状态由广义坐标和相应的广义速度给定，即它们原则上可以确定系统在任意时刻的位形以及位形的变化。

### 1.2 内容补充

#### 1.2.1 约束和分类

要理解广义坐标以及相关的问题，需要对约束以及分类有一个基本的了解。

在分析力学中处理问题时，首要的是先明确系统，这是所有讨论的基本出发点。系统中各质点（离散系统）或质元（连续分布的系统）的位置的集合称为系统的位形。约束是对系统的位形以及位形的变化的一种限制。

按照是否同时限制位形和位形的变化可将约束分为 *完整约束*（也称为几何约束）和 *非完整约束* 两类。前者仅对位形有限制，也就是约束相应的数学关系（称为约束方程）一般具有下列形式：$$f_j(r_1, r_2, \cdots, r_N, t) = 0, \quad (j = 1, 2, \cdots, l). \tag{1.2}$$其中 $l$ 为这类约束的个数。非完整约束对位形以及位形的变化均有限制，约束方程通常具有下列形式：$$f_j(r_1, r_2, \cdots, r_N, \dot{r}_1, \dot{r}_2, \cdots, \dot{r}_N, t) = 0, \quad (j = 1, 2, \cdots, l'). \tag{1.3}$$
依据约束方程中是否显含时间，又可将约束分为 *定常约束* 和 *非定常约束*。前者是不显含时间的，后者则显含。方程（1.2）和（1.3）表示的均是非定常约束。

根据约束是否可以解除又将约束分为 *单侧约束* 和 *双侧约束*。单侧约束是可解除的约束，约束方程通常表示为不等式。在实际问题中，约束解除与否取决于约束力的变化情况。约束方程可以表示为等式的约束称为双侧约束。

在讨论动力学问题时，往往需要根据系统所受各约束力的虚功之代数和是否等于零将约束分为 *理想约束* 和 *非理想约束*。设各质点的虚位移分别为 $\delta \boldsymbol{r}_a$，受到的约束力为 $\boldsymbol{F}'_a$，如果有$$\sum_{a=1}^N\boldsymbol{F}_a^{\prime}\cdot\delta\boldsymbol{r}_a=0, \tag{1.4}$$则称约束是理想的。注意，这里所说的不是单个约束力的虚功，而是系统所有约束力的虚功之和。与广义坐标等概念一样，约束是否是理想的针对的也是整个系统，而不是系统中的某一部分。也就是说，“第 $i$ 个约束是理想约束” 之类的表述通常是没有意义的。

理想约束一般而言是一种近似，在具体问题中，光滑接触、刚性杆、铰链、不可伸长等类型的约束均是理想约束。


#### 1.2.2 广义坐标

要说明的是广义坐标是针对整个系统的。也就是说，“系统中某一部分的广义坐标是什么” 之类的表述一般是没有意义的。后面讨论中引入的与广义坐标相关的广义力、广义动量、势能等等概念也同样是针对整个系统的。

广义坐标的选取，通常并没有一定的原则，只要是相互独立并能唯一地确定系统的位形（或状态）的一组数目最少的参量就可。对于同一系统，可以有多组广义坐标，其中每一组均可以同等地用来描述系统的运动情况。实际上，广义坐标的选取包含一定的经验技巧。对于有限大小的物体，将其方位角作为系统的广义坐标的一部分是一个好的选择；如果系统具有一定的对称性，选取与对称变换（或操作）相关联的参量为广义坐标可为运动的求解带来便利，因为后面可以看到这样的广义坐标将不会出现在系统 的拉格朗日函数中（这样的广义坐标称为可遗坐标或*循环坐标*），由此将有对应的 *运动积分* 存在。例如，如果系统关于某轴具有转动不变性，则可选绕轴的转动操作相应的转动角度为广义坐标（参见 $§9$习题 $3$）。

在选定广义坐标后，完整约束方程自动隐含在坐标变换关系中，因此除了求相应的约束力外通常不必再考虑该类约束了。另外，要注意约束方程与坐标变换关系一般而言是不相同的。

**例**  长为 $l$ 的匀质刚性杆置于半径为 $R (l > 2R)$ 的固定半球壳内侧（见图 1.1）而处于平衡状态。为求平衡位置，以杆为系统，它有一个自由度。如果取杆的质心 $C$ 的纵坐标 $y$ 为广义坐标，则它不能唯一指定系统的位形， 因为图中两种位形有相同的 $y$。

![[Pasted image 20250102140433.png]]
**图 1.1**

在该问题中，通常可取杆与水平方向的夹角 $\theta$ 为广义坐标。于此，有如下坐标变换关系。对于 $A$ 点，有：$$\begin{aligned}&x_{A}=2R-(2R\cos\theta)\cos\theta=2R\sin^2\theta,\\[1.5ex]&y_{A}=(2R\cos\theta)\sin\theta=R\sin(2\theta).\end{aligned} \tag{1}$$由这两个关系消去 $\theta$，得到：$$(x_A-R)^2+y_A^2=R^2.$$

> [!tip]
> $x_A= |OE|-|DE|$，其中 $OAE$ 是直角三角形，$|AE|=2R\cos\theta$，所以 $|DE|=2R\cos\theta\cos\theta$ ，$y_A=|AD|=2R\cos\theta\sin\theta$；
> 
> 想要消去 $\theta$，基本需要依赖 $\sin^2\theta + \cos^2\theta=1$，所以需要将 $x_A$ 中的 $\sin^2\theta$ 变为仅含 $\cos(2\theta)$ 形式或者将 $y_A$ 中的 $\sin(2\theta)$ 变为仅含 $\cos^2\theta$ 的形式。$\sin^2\theta = \frac{1 - \cos(2\theta)}{2}$，所以 $x_A=R[1-\cos(2\theta)]$，计算得：$$\begin{align}
> x_A^2+y_A^2 &=R^2(1-\cos 2\theta)^2+R^2\sin^2(2\theta) \\[1.5ex]
> &=R^2(1-2\cos 2\theta + \cos^2 2\theta)+R^2\sin^2(2\theta) \\[1.5ex]
> &=2R^2(1-\cos 2\theta) = 2R x_A
> \end{align}$$
> 所以有：$x_A^2+y_A^2=2Rx_A$，进一步可得 $(x_A-R)^2+y_A^2=R^2$，实际上就是以 $(R,0)$ 为圆心的圆的方程。

这就是 $A$ 点的约束方程，它是完整的约束。

对 $B$ 点，有$$\begin{align}
x_{B}&=2R+(l-2R\cos\theta)\cos\theta=l\cos\theta+2R\sin^2\theta,\\[1.5ex]
y_{B}&=-(l-2R\cos\theta)\sin\theta=-l\sin\theta+R\sin(2\theta).\end{align}\tag{2}$$
由式（1）和（2）消去 $\theta$，得到：$$(x_A-x_B)^2+(y_A-y_B)^2=l^2.$$这是杆为刚性杆的约束方程，它也是完整的约束。

#### 1.2.3 坐标变换关系 (1.1) 的时间依赖性

坐标变换关系 (1.1) 是否显含时间，是与约束的类型以及广义坐标的选取密切相关的，一般而言，对于非定常约束，坐标变换关系总是显含时间的，但是，对于定常约束，可以选取广义坐标使得它不显含时间，也就是说，在定常约束下，显含时间与否取决于如何选取广义坐标。在《力学》后面的讨论中，往往认为坐标变换关系是不显含时间的，也就是所涉及的约束是定常约束，注意，$§5$ 习题 $3$ 考虑的是非定常约束的情况。

**例**    如图 1.2 所示，弹簧一端固定于支架上，支架以速度 $v_0$ 沿固定的水平轴 $Ox$ 运动，质量为 $m$ 的质点与弹簧相连，弹簧的劲度系数为 $k$，自然长度为 $l_0$。

![[Pasted image 20250120170521.png]]

解：取弹簧和质点为系统，它有一个自由度约束条件为$$y=0$$这是定常完整约束，取质点相对于支架且弹簧处于原长时端点所在位置的坐标 $q$ 为广义坐标，则坐标变换方程为$$x = v_0t +l_0+ q$$其中 $l_0$ 为弹簧的原长，变换方程中含有时间 $t$。

但是，如果选任一时刻质点相对于 $O$ 的坐标 $x$ 为广义坐标，则坐标变换关系是 $x=x$，它不显含时间。



